definitions:
  github_com_raids-lab_crater_dao_model.AccessMode:
    enum:
    - 0
    - 1
    - 2
    - 3
    - 4
    format: int32
    type: integer
    x-enum-comments:
      AccessModeAO: Append-only mode
      AccessModeNA: Not-allowed mode
      AccessModeRO: Read-only mode
      AccessModeRW: Read-write mode
    x-enum-descriptions:
    - ""
    - Not-allowed mode
    - Read-only mode
    - Read-write mode
    - Append-only mode
    x-enum-varnames:
    - _
    - AccessModeNA
    - AccessModeRO
    - AccessModeRW
    - AccessModeAO
  github_com_raids-lab_crater_dao_model.ApprovalOrderStatus:
    enum:
    - Pending
    - Approved
    - Rejected
    - Canceled
    type: string
    x-enum-comments:
      ApprovalOrderStatusApproved: 已批准
      ApprovalOrderStatusCancelled: 已取消
      ApprovalOrderStatusPending: 待审批
      ApprovalOrderStatusRejected: 已拒绝
    x-enum-descriptions:
    - 待审批
    - 已批准
    - 已拒绝
    - 已取消
    x-enum-varnames:
    - ApprovalOrderStatusPending
    - ApprovalOrderStatusApproved
    - ApprovalOrderStatusRejected
    - ApprovalOrderStatusCancelled
  github_com_raids-lab_crater_dao_model.ApprovalOrderType:
    enum:
    - dataset
    - job
    type: string
    x-enum-comments:
      ApprovalOrderTypeDataset: 数据集类型
      ApprovalOrderTypeJob: 任务类型
    x-enum-descriptions:
    - 数据集类型
    - 任务类型
    x-enum-varnames:
    - ApprovalOrderTypeDataset
    - ApprovalOrderTypeJob
  github_com_raids-lab_crater_dao_model.BuildSource:
    enum:
    - Dockerfile
    - PipApt
    - Snapshot
    - EnvdAdvanced
    - EnvdRaw
    type: string
    x-enum-varnames:
    - Dockerfile
    - PipApt
    - Snapshot
    - EnvdAdvanced
    - EnvdRaw
  github_com_raids-lab_crater_dao_model.CraterResourceType:
    enum:
    - gpu
    - rdma
    - vgpu
    type: string
    x-enum-varnames:
    - ResourceTypeGPU
    - ResourceTypeRDMA
    - ResourceTypeVGPU
  github_com_raids-lab_crater_dao_model.DataType:
    enum:
    - dataset
    - model
    - sharefile
    type: string
    x-enum-varnames:
    - DataTypeDataset
    - DataTypeModel
    - DataTypeShareFile
  github_com_raids-lab_crater_dao_model.JobType:
    enum:
    - all
    - jupyter
    - webide
    - pytorch
    - tensorflow
    - kuberay
    - deepspeed
    - openmpi
    - custom
    type: string
    x-enum-varnames:
    - JobTypeAll
    - JobTypeJupyter
    - JobTypeWebIDE
    - JobTypePytorch
    - JobTypeTensorflow
    - JobTypeKubeRay
    - JobTypeDeepSpeed
    - JobTypeOpenMPI
    - JobTypeCustom
  github_com_raids-lab_crater_dao_model.Role:
    enum:
    - 0
    - 1
    - 2
    - 3
    format: int32
    type: integer
    x-enum-varnames:
    - _
    - RoleGuest
    - RoleUser
    - RoleAdmin
  github_com_raids-lab_crater_dao_model.Status:
    enum:
    - 0
    - 1
    - 2
    - 3
    format: int32
    type: integer
    x-enum-comments:
      StatusActive: Active status
      StatusInactive: Inactive status
      StatusPending: Pending status, not yet activated
    x-enum-descriptions:
    - ""
    - Pending status, not yet activated
    - Active status
    - Inactive status
    x-enum-varnames:
    - _
    - StatusPending
    - StatusActive
    - StatusInactive
  github_com_raids-lab_crater_dao_model.UserAttribute:
    properties:
      avatar:
        description: 头像
        type: string
      email:
        description: 邮箱
        type: string
      expiredAt:
        description: 过期时间
        type: string
      gid:
        description: GID
        type: string
      group:
        description: 课题组
        type: string
      id:
        description: ID
        type: integer
      name:
        description: 账号
        type: string
      nickname:
        description: 昵称，如果没有指定，则与账号相同
        type: string
      phone:
        description: 电话
        type: string
      teacher:
        description: 老师
        type: string
      uid:
        description: UID and GID are used for Filesystem
        type: string
    type: object
  github_com_raids-lab_crater_internal_payload.Order:
    enum:
    - asc
    - desc
    type: string
    x-enum-varnames:
    - Asc
    - Desc
  github_com_raids-lab_crater_internal_resputil.ErrorCode:
    enum:
    - 0
    - 40001
    - 40101
    - 40102
    - 40103
    - 40104
    - 40105
    - 40106
    - 40301
    - 40302
    - 40401
    - 99999
    type: integer
    x-enum-varnames:
    - OK
    - InvalidRequest
    - TokenExpired
    - TokenInvalid
    - MustRegister
    - RegisterTimeout
    - RegisterNotFound
    - InvalidCredentials
    - UserNotAllowed
    - UserEmailNotVerified
    - ServiceSshdNotFound
    - NotSpecified
  github_com_raids-lab_crater_internal_resputil.Response-any:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data: {}
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-array_internal_handler_AccountResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        items:
          $ref: '#/definitions/internal_handler.AccountResp'
        type: array
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-github_com_raids-lab_crater_pkg_crclient_ClusterNodeDetail:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/github_com_raids-lab_crater_pkg_crclient.ClusterNodeDetail'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-github_com_raids-lab_crater_pkg_crclient_GPUInfo:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/github_com_raids-lab_crater_pkg_crclient.GPUInfo'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_CheckResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler.CheckResp'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_DeleteProjectResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler.DeleteProjectResp'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_LoginResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler.LoginResp'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_NodeMark:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler.NodeMark'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_ProjectCreateResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler.ProjectCreateResp'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_TokenReq:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler.TokenReq'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_UserDetailResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler.UserDetailResp'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_tool_PodIngress:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler_tool.PodIngress'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_tool_PodIngressResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler_tool.PodIngressResp'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_tool_PodNodeport:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler_tool.PodNodeport'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_tool_PodNodeportResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler_tool.PodNodeportResp'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-internal_handler_vcjob_JobTokenResp:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        $ref: '#/definitions/internal_handler_vcjob.JobTokenResp'
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_internal_resputil.Response-string:
    properties:
      code:
        $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.ErrorCode'
      data:
        type: string
      msg:
        type: string
    type: object
  github_com_raids-lab_crater_pkg_crclient.ClusterNodeDetail:
    properties:
      address:
        type: string
      arch:
        type: string
      containerRuntimeVersion:
        type: string
      gpuArch:
        type: string
      gpuCount:
        type: integer
      gpuMemory:
        type: string
      kubeletVersion:
        type: string
      name:
        type: string
      os:
        type: string
      osVersion:
        type: string
      role:
        type: string
      status:
        $ref: '#/definitions/v1.NodeConditionType'
      taint:
        type: string
      time:
        type: string
    type: object
  github_com_raids-lab_crater_pkg_crclient.GPUInfo:
    properties:
      cudaVersion:
        type: string
      gpuArch:
        type: string
      gpuCount:
        type: integer
      gpuDriver:
        type: string
      gpuMemory:
        type: string
      gpuProduct:
        type: string
      gpuUtil:
        additionalProperties:
          format: float32
          type: number
        type: object
      haveGPU:
        type: boolean
      name:
        type: string
      relateJobs:
        additionalProperties:
          items:
            type: string
          type: array
        type: object
    type: object
  internal_handler.AccountContext:
    properties:
      accessPublic:
        allOf:
        - $ref: '#/definitions/github_com_raids-lab_crater_dao_model.AccessMode'
        description: User access mode of the platform
      accessQueue:
        allOf:
        - $ref: '#/definitions/github_com_raids-lab_crater_dao_model.AccessMode'
        description: User access mode of the queue
      queue:
        description: Current Queue Name
        type: string
      rolePlatform:
        allOf:
        - $ref: '#/definitions/github_com_raids-lab_crater_dao_model.Role'
        description: User role of the platform
      roleQueue:
        allOf:
        - $ref: '#/definitions/github_com_raids-lab_crater_dao_model.Role'
        description: User role of the queue
      space:
        description: User pvc subpath the platform
        type: string
    type: object
  internal_handler.AccountResp:
    properties:
      access:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.AccessMode'
      expiredAt:
        type: string
      name:
        type: string
      nickname:
        type: string
      role:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.Role'
    type: object
  internal_handler.ApprovalOrderreq:
    properties:
      extensionHours:
        description: 延长小时数
        type: integer
      name:
        type: string
      reason:
        description: 审批原因
        type: string
      status:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.ApprovalOrderStatus'
      type:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.ApprovalOrderType'
      typeID:
        description: 关联的ID，可能是数据集或任务ID
        type: integer
    required:
    - name
    - type
    type: object
  internal_handler.AuthMethod:
    enum:
    - normal
    - act-ldap
    - act-api
    type: string
    x-enum-varnames:
    - AuthMethodNormal
    - AuthMethodACTLDAP
    - AuthMethodACTAPI
  internal_handler.CheckResp:
    properties:
      context:
        $ref: '#/definitions/internal_handler.AccountContext'
      user:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.UserAttribute'
    type: object
  internal_handler.DatasetReq:
    properties:
      describe:
        type: string
      editable:
        type: boolean
      ispublic:
        type: boolean
      name:
        type: string
      tags:
        items:
          type: string
        type: array
      type:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.DataType'
      url:
        type: string
      weburl:
        type: string
    required:
    - describe
    - name
    - url
    type: object
  internal_handler.DeleteProjectResp:
    properties:
      name:
        type: string
    required:
    - name
    type: object
  internal_handler.FilePermission:
    enum:
    - 0
    - 1
    - 2
    - 3
    type: integer
    x-enum-varnames:
    - _
    - NotAllowed
    - ReadOnly
    - ReadWrite
  internal_handler.JobTemplateReq:
    properties:
      describe:
        type: string
      document:
        type: string
      name:
        type: string
      template:
        type: string
    required:
    - name
    - template
    type: object
  internal_handler.LinkGPUToVGPUReq:
    properties:
      description:
        type: string
      max:
        type: integer
      min:
        type: integer
      vgpuResourceId:
        type: integer
    required:
    - vgpuResourceId
    type: object
  internal_handler.LinkResourceReq:
    properties:
      rdmaId:
        type: integer
    required:
    - rdmaId
    type: object
  internal_handler.LoginReq:
    properties:
      auth:
        allOf:
        - $ref: '#/definitions/internal_handler.AuthMethod'
        description: '[normal, act-ldap, act-api]'
      password:
        description: (act-ldap, normal)
        type: string
      token:
        description: (act-api)
        type: string
      username:
        description: (act-ldap, normal)
        type: string
    required:
    - auth
    type: object
  internal_handler.LoginResp:
    properties:
      accessToken:
        type: string
      context:
        $ref: '#/definitions/internal_handler.AccountContext'
      refreshToken:
        type: string
      user:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.UserAttribute'
    type: object
  internal_handler.NodeAnnotation:
    properties:
      key:
        type: string
      value:
        type: string
    type: object
  internal_handler.NodeLabel:
    properties:
      key:
        type: string
      value:
        type: string
    type: object
  internal_handler.NodeMark:
    properties:
      annotations:
        items:
          $ref: '#/definitions/internal_handler.NodeAnnotation'
        type: array
      labels:
        items:
          $ref: '#/definitions/internal_handler.NodeLabel'
        type: array
      taints:
        items:
          $ref: '#/definitions/internal_handler.NodeTaint'
        type: array
    type: object
  internal_handler.NodeTaint:
    properties:
      effect:
        type: string
      key:
        type: string
      value:
        type: string
    type: object
  internal_handler.ProjectCreateResp:
    properties:
      id:
        type: integer
    type: object
  internal_handler.SharedQueueReq:
    properties:
      datasetID:
        type: integer
      queueIDs:
        items:
          type: integer
        type: array
    required:
    - datasetID
    - queueIDs
    type: object
  internal_handler.SharedUserReq:
    properties:
      datasetID:
        type: integer
      userIDs:
        items:
          type: integer
        type: array
    required:
    - datasetID
    - userIDs
    type: object
  internal_handler.SwitchQueueReq:
    properties:
      queue:
        type: string
    required:
    - queue
    type: object
  internal_handler.TokenReq:
    properties:
      permission:
        $ref: '#/definitions/internal_handler.FilePermission'
      rootPath:
        type: string
      userId:
        type: integer
    type: object
  internal_handler.UpdateApprovalOrder:
    properties:
      extensionHours:
        description: 延长小时数
        type: integer
      name:
        type: string
      reason:
        description: 审批原因
        type: string
      reviewNotes:
        description: 审批备注
        type: string
      reviewerID:
        description: 审批人ID
        type: integer
      status:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.ApprovalOrderStatus'
      type:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.ApprovalOrderType'
      typeID:
        description: 关联的ID，可能是数据集或任务ID
        type: integer
    required:
    - name
    - type
    type: object
  internal_handler.UpdateDatasetreq:
    properties:
      datasetID:
        type: integer
      describe:
        type: string
      name:
        type: string
      tags:
        items:
          type: string
        type: array
      url:
        type: string
      weburl:
        type: string
    required:
    - datasetID
    - describe
    - name
    - url
    type: object
  internal_handler.UpdateGPUVGPULinkReq:
    properties:
      description:
        type: string
      max:
        type: integer
      min:
        type: integer
      vgpuResourceId:
        type: integer
    type: object
  internal_handler.UpdateJobTemplateReq:
    properties:
      describe:
        type: string
      document:
        type: string
      id:
        type: integer
      name:
        type: string
      template:
        type: string
    required:
    - id
    - name
    - template
    type: object
  internal_handler.UpdateResourceReq:
    properties:
      label:
        type: string
      type:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.CraterResourceType'
    type: object
  internal_handler.UpdateRoleReq:
    properties:
      role:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.Role'
    required:
    - role
    type: object
  internal_handler.UserDetailResp:
    properties:
      avatar:
        description: 头像
        type: string
      createdAt:
        description: 创建时间
        type: string
      group:
        description: 课题组
        type: string
      id:
        description: 用户ID
        type: integer
      name:
        description: 用户名称
        type: string
      nickname:
        description: 用户昵称
        type: string
      role:
        allOf:
        - $ref: '#/definitions/github_com_raids-lab_crater_dao_model.Role'
        description: 用户角色
      status:
        allOf:
        - $ref: '#/definitions/github_com_raids-lab_crater_dao_model.Status'
        description: 用户状态
      teacher:
        description: 导师
        type: string
    type: object
  internal_handler.cancelSharedQueueReq:
    properties:
      datasetID:
        type: integer
      queueID:
        type: integer
    required:
    - datasetID
    - queueID
    type: object
  internal_handler.cancelsharedUserReq:
    properties:
      datasetID:
        type: integer
      userID:
        type: integer
    required:
    - datasetID
    - userID
    type: object
  internal_handler_image.ChangeImagePublicStatusRequest:
    properties:
      id:
        type: integer
    required:
    - id
    type: object
  internal_handler_image.CreateByDockerfileRequest:
    properties:
      archs:
        items:
          type: string
        type: array
      description:
        type: string
      dockerfile:
        type: string
      name:
        type: string
      tag:
        type: string
      tags:
        items:
          type: string
        type: array
      template:
        type: string
    type: object
  internal_handler_image.CreateByEnvdRequest:
    properties:
      archs:
        items:
          type: string
        type: array
      base:
        type: string
      buildSource:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.BuildSource'
      description:
        type: string
      envd:
        type: string
      name:
        type: string
      python:
        type: string
      tag:
        type: string
      tags:
        items:
          type: string
        type: array
      template:
        type: string
    type: object
  internal_handler_image.CreateKanikoRequest:
    properties:
      archs:
        items:
          type: string
        type: array
      description:
        type: string
      image:
        type: string
      name:
        type: string
      packages:
        type: string
      requirements:
        type: string
      tag:
        type: string
      tags:
        items:
          type: string
        type: array
      template:
        type: string
    type: object
  internal_handler_image.CudaBaseImageCreateRequest:
    properties:
      imageLabel:
        type: string
      label:
        type: string
      value:
        type: string
    required:
    - imageLabel
    - label
    - value
    type: object
  internal_handler_image.UpdateProjectQuotaRequest:
    properties:
      size:
        type: integer
    required:
    - size
    type: object
  internal_handler_image.UploadImageRequest:
    properties:
      archs:
        items:
          type: string
        type: array
      description:
        type: string
      imageLink:
        type: string
      tags:
        items:
          type: string
        type: array
      taskType:
        $ref: '#/definitions/github_com_raids-lab_crater_dao_model.JobType'
    type: object
  internal_handler_operations.CronjobConfigs:
    properties:
      configs:
        additionalProperties:
          type: string
        type: object
      name:
        type: string
      schedule:
        type: string
      suspend:
        type: boolean
    type: object
  internal_handler_tool.PodIngress:
    properties:
      name:
        description: Rule name
        type: string
      port:
        description: Port to expose
        type: integer
      prefix:
        description: Unique prefix for access
        type: string
    required:
    - name
    - port
    type: object
  internal_handler_tool.PodIngressMgr:
    properties:
      name:
        description: Rule name
        type: string
      port:
        description: Port to expose
        type: integer
    required:
    - name
    - port
    type: object
  internal_handler_tool.PodIngressResp:
    properties:
      ingresses:
        description: List of ingress rules
        items:
          $ref: '#/definitions/internal_handler_tool.PodIngress'
        type: array
    type: object
  internal_handler_tool.PodNodeport:
    properties:
      address:
        description: address for access
        type: string
      containerPort:
        description: ContainPort to expose
        type: integer
      name:
        description: Rule name
        type: string
      nodePort:
        description: NodePort to expose
        type: integer
      serviceName:
        type: string
    required:
    - containerPort
    - name
    - nodePort
    type: object
  internal_handler_tool.PodNodeportMgr:
    properties:
      containerPort:
        description: ContatinerPort to expose
        type: integer
      name:
        description: Rule name
        type: string
    required:
    - containerPort
    - name
    type: object
  internal_handler_tool.PodNodeportResp:
    properties:
      nodeports:
        description: List of nodeport rules
        items:
          $ref: '#/definitions/internal_handler_tool.PodNodeport'
        type: array
    type: object
  internal_handler_vcjob.CreateJupyterReq:
    properties:
      alertEnabled:
        type: boolean
      datasetMounts:
        items:
          $ref: '#/definitions/internal_handler_vcjob.DatasetMount'
        type: array
      envs:
        items:
          $ref: '#/definitions/v1.EnvVar'
        type: array
      forwards:
        items:
          $ref: '#/definitions/internal_handler_vcjob.Forward'
        type: array
      image:
        type: string
      name:
        type: string
      resource:
        $ref: '#/definitions/v1.ResourceList'
      selectors:
        items:
          $ref: '#/definitions/v1.NodeSelectorRequirement'
        type: array
      template:
        type: string
      volumeMounts:
        items:
          $ref: '#/definitions/internal_handler_vcjob.VolumeMount'
        type: array
    required:
    - image
    - name
    type: object
  internal_handler_vcjob.DatasetMount:
    properties:
      datasetID:
        type: integer
      mountPath:
        type: string
    type: object
  internal_handler_vcjob.Forward:
    properties:
      name:
        type: string
      port:
        type: integer
      type:
        $ref: '#/definitions/internal_handler_vcjob.ForwardType'
    type: object
  internal_handler_vcjob.ForwardType:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-varnames:
    - _
    - IngressType
    - NodePortType
  internal_handler_vcjob.JobTokenResp:
    properties:
      baseURL:
        type: string
      fullURL:
        type: string
      namespace:
        type: string
      podName:
        type: string
      token:
        type: string
    type: object
  internal_handler_vcjob.VolumeMount:
    properties:
      datasetID:
        type: integer
      mountPath:
        type: string
      subPath:
        type: string
      type:
        $ref: '#/definitions/internal_handler_vcjob.VolumeType'
    type: object
  internal_handler_vcjob.VolumeType:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-varnames:
    - _
    - FileType
    - DataType
  resource.Quantity:
    properties:
      Format:
        enum:
        - DecimalExponent
        - BinarySI
        - DecimalSI
        type: string
        x-enum-comments:
          BinarySI: e.g., 12Mi (12 * 2^20)
          DecimalExponent: e.g., 12e6
          DecimalSI: e.g., 12M  (12 * 10^6)
        x-enum-descriptions:
        - e.g., 12e6
        - e.g., 12Mi (12 * 2^20)
        - e.g., 12M  (12 * 10^6)
        x-enum-varnames:
        - DecimalExponent
        - BinarySI
        - DecimalSI
    type: object
  v1.ConfigMapKeySelector:
    properties:
      key:
        description: The key to select.
        type: string
      name:
        description: |-
          Name of the referent.
          This field is effectively required, but due to backwards compatibility is
          allowed to be empty. Instances of this type with an empty value here are
          almost certainly wrong.
          More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
          +optional
          +default=""
          +kubebuilder:default=""
          TODO: Drop `kubebuilder:default` when controller-gen doesn't need it https://github.com/kubernetes-sigs/kubebuilder/issues/3896.
        type: string
      optional:
        description: |-
          Specify whether the ConfigMap or its key must be defined
          +optional
        type: boolean
    type: object
  v1.EnvVar:
    properties:
      name:
        description: Name of the environment variable. Must be a C_IDENTIFIER.
        type: string
      value:
        description: |-
          Variable references $(VAR_NAME) are expanded
          using the previously defined environment variables in the container and
          any service environment variables. If a variable cannot be resolved,
          the reference in the input string will be unchanged. Double $$ are reduced
          to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
          "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
          Escaped references will never be expanded, regardless of whether the variable
          exists or not.
          Defaults to "".
          +optional
        type: string
      valueFrom:
        allOf:
        - $ref: '#/definitions/v1.EnvVarSource'
        description: |-
          Source for the environment variable's value. Cannot be used if value is not empty.
          +optional
    type: object
  v1.EnvVarSource:
    properties:
      configMapKeyRef:
        allOf:
        - $ref: '#/definitions/v1.ConfigMapKeySelector'
        description: |-
          Selects a key of a ConfigMap.
          +optional
      fieldRef:
        allOf:
        - $ref: '#/definitions/v1.ObjectFieldSelector'
        description: |-
          Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
          spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
          +optional
      resourceFieldRef:
        allOf:
        - $ref: '#/definitions/v1.ResourceFieldSelector'
        description: |-
          Selects a resource of the container: only resources limits and requests
          (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
          +optional
      secretKeyRef:
        allOf:
        - $ref: '#/definitions/v1.SecretKeySelector'
        description: |-
          Selects a key of a secret in the pod's namespace
          +optional
    type: object
  v1.NodeConditionType:
    enum:
    - Ready
    - MemoryPressure
    - DiskPressure
    - PIDPressure
    - NetworkUnavailable
    type: string
    x-enum-varnames:
    - NodeReady
    - NodeMemoryPressure
    - NodeDiskPressure
    - NodePIDPressure
    - NodeNetworkUnavailable
  v1.NodeSelectorOperator:
    enum:
    - In
    - NotIn
    - Exists
    - DoesNotExist
    - Gt
    - Lt
    type: string
    x-enum-varnames:
    - NodeSelectorOpIn
    - NodeSelectorOpNotIn
    - NodeSelectorOpExists
    - NodeSelectorOpDoesNotExist
    - NodeSelectorOpGt
    - NodeSelectorOpLt
  v1.NodeSelectorRequirement:
    properties:
      key:
        description: The label key that the selector applies to.
        type: string
      operator:
        allOf:
        - $ref: '#/definitions/v1.NodeSelectorOperator'
        description: |-
          Represents a key's relationship to a set of values.
          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
      values:
        description: |-
          An array of string values. If the operator is In or NotIn,
          the values array must be non-empty. If the operator is Exists or DoesNotExist,
          the values array must be empty. If the operator is Gt or Lt, the values
          array must have a single element, which will be interpreted as an integer.
          This array is replaced during a strategic merge patch.
          +optional
          +listType=atomic
        items:
          type: string
        type: array
    type: object
  v1.ObjectFieldSelector:
    properties:
      apiVersion:
        description: |-
          Version of the schema the FieldPath is written in terms of, defaults to "v1".
          +optional
        type: string
      fieldPath:
        description: Path of the field to select in the specified API version.
        type: string
    type: object
  v1.ResourceFieldSelector:
    properties:
      containerName:
        description: |-
          Container name: required for volumes, optional for env vars
          +optional
        type: string
      divisor:
        allOf:
        - $ref: '#/definitions/resource.Quantity'
        description: |-
          Specifies the output format of the exposed resources, defaults to "1"
          +optional
      resource:
        description: 'Required: resource to select'
        type: string
    type: object
  v1.ResourceList:
    additionalProperties:
      $ref: '#/definitions/resource.Quantity'
    type: object
  v1.SecretKeySelector:
    properties:
      key:
        description: The key of the secret to select from.  Must be a valid secret
          key.
        type: string
      name:
        description: |-
          Name of the referent.
          This field is effectively required, but due to backwards compatibility is
          allowed to be empty. Instances of this type with an empty value here are
          almost certainly wrong.
          More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
          +optional
          +default=""
          +kubebuilder:default=""
          TODO: Drop `kubebuilder:default` when controller-gen doesn't need it https://github.com/kubernetes-sigs/kubebuilder/issues/3896.
        type: string
      optional:
        description: |-
          Specify whether the Secret or its key must be defined
          +optional
        type: boolean
    type: object
info:
  contact: {}
  description: This is the API server for Crater, a Multi-tenant AI Model Training
    Platform based on Kubernetes.
  title: Crater API
  version: 1.0.0
paths:
  /auth/check:
    get:
      consumes:
      - application/json
      description: 验证Authorization header中的Bearer token，返回用户信息和上下文
      produces:
      - application/json
      responses:
        "200":
          description: token验证成功，返回用户信息和上下文
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_CheckResp'
        "401":
          description: token无效或已过期
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 验证用户token并返回用户信息
      tags:
      - Auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: 校验用户身份，生成包含当前用户和项目的 JWT Token
      parameters:
      - description: 查询参数
        in: body
        name: data
        schema:
          $ref: '#/definitions/internal_handler.LoginReq'
      produces:
      - application/json
      responses:
        "200":
          description: 登录成功，返回 JWT Token 和默认个人项目
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_LoginResp'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "401":
          description: 用户名或密码错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 数据库交互错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      summary: 用户登录
      tags:
      - Auth
  /auth/mode:
    get:
      consumes:
      - application/json
      description: 返回后端部署的config值
      produces:
      - application/json
      responses:
        "200":
          description: 启用认证类型
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 获取相关配置时错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      summary: 获取后端用户认证模式
      tags:
      - Auth
  /metrics:
    get:
      consumes:
      - application/json
      description: 返回Prometheus能够识别的信息
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回
          schema:
            items:
              $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
            type: array
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取系统中每种Status的Job的数量
      tags:
      - Metrics
  /v1/accounts:
    get:
      consumes:
      - application/json
      description: 连接用户账户表和账户表，获取用户的所有账户的摘要信息
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-array_internal_handler_AccountResp'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取用户的所有账户
      tags:
      - Project
  /v1/accounts/{name}:
    get:
      consumes:
      - application/json
      description: 根据账户名称获取账户的信息
      parameters:
      - in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 账户信息
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取指定账户
      tags:
      - Project
  /v1/admin/accounts/{aid}:
    get:
      consumes:
      - application/json
      description: 根据账户ID获取账户的信息
      parameters:
      - in: path
        name: aid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 账户信息
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取指定账户
      tags:
      - Project
  /v1/admin/approvalorder:
    get:
      consumes:
      - application/json
      description: 展示所有审批订单
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 展示所有审批订单
      tags:
      - approvalorder
  /v1/admin/dataset/alldataset:
    get:
      consumes:
      - application/json
      description: 获取所有数据集
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取所有数据集
      tags:
      - Dataset
  /v1/admin/dataset/cancelshare/queue:
    post:
      consumes:
      - application/json
      description: 管理员取消数据共享队列
      parameters:
      - description: 共享数据集队列
        in: body
        name: queueReq
        required: true
        schema:
          $ref: '#/definitions/internal_handler.cancelSharedQueueReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 管理员取消数据共享队列
      tags:
      - Dataset
  /v1/admin/dataset/cancelshare/user:
    post:
      consumes:
      - application/json
      description: 管理员取消数据集共享用户
      parameters:
      - description: 共享数据集用户
        in: body
        name: Req
        required: true
        schema:
          $ref: '#/definitions/internal_handler.cancelsharedUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 管理员取消数据集共享用户
      tags:
      - Dataset
  /v1/admin/dataset/share/queue:
    post:
      consumes:
      - application/json
      description: 管理员对队列分享数据集
      parameters:
      - description: 共享数据集队列
        in: body
        name: queueReq
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SharedQueueReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 管理员对队列分享数据集
      tags:
      - Dataset
  /v1/admin/dataset/share/user:
    post:
      consumes:
      - application/json
      description: 管理员对用户分享数据集
      parameters:
      - description: 共享数据集用户
        in: body
        name: userReq
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SharedUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 管理员对用户分享数据集
      tags:
      - Dataset
  /v1/admin/images/deletekaniko:
    post:
      consumes:
      - application/json
      description: 管理员模式下遍历列表，根据ID更新Kaniko的状态为Deleted，起到删除的功能
      parameters:
      - description: 删除kaniko的IDList
        in: body
        name: IDList
        required: true
        schema:
          items:
            type: integer
          type: array
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 管理员模式下根据IDList删除Kaniko entity
      tags:
      - ImagePack
  /v1/admin/images/description:
    post:
      consumes:
      - application/json
      description: 更新描述
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 管理员模式下更新镜像的描述
      tags:
      - ImagePack
  /v1/admin/images/image:
    get:
      consumes:
      - application/json
      description: 所有的镜像数据
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 管理员获取所有镜像数据
      tags:
      - ImagePack
  /v1/admin/images/kaniko:
    get:
      consumes:
      - application/json
      description: 管理员获取所有镜像制作信息
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 管理员获取相关镜像的功能
      tags:
      - ImagePack
    post:
      consumes:
      - application/json
      description: 获取参数，生成变量，调用接口
      parameters:
      - description: 创建ImagePack
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler_image.CreateKanikoRequest'
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 创建ImagePack CRD和数据库kaniko entity
      tags:
      - ImagePack
  /v1/admin/images/tags:
    post:
      consumes:
      - application/json
      description: 管理员更新标签
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 管理员更新镜像的标签
      tags:
      - ImagePack
  /v1/admin/images/type:
    post:
      consumes:
      - application/json
      description: 更新任务类型
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 管理员更新镜像的任务类型
      tags:
      - ImagePack
  /v1/admin/operations/cleanup:
    delete:
      consumes:
      - application/json
      description: Delete batch jobs older than 4 days and interactive jobs older
        than 1 day
      parameters:
      - in: query
        name: batchDays
        type: integer
      - in: query
        name: interactiveDays
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Cleanup jobs based on type and duration
      tags:
      - Operations
  /v1/admin/projects:
    get:
      consumes:
      - application/json
      description: 获取所有账户的摘要信息，支持筛选条件、分页和排序
      parameters:
      - description: 部分匹配账户名称
        in: query
        name: nameLike
        type: string
      - description: 排序方式（升序、降序）
        enum:
        - asc
        - desc
        in: query
        name: order
        type: string
        x-enum-varnames:
        - Asc
        - Desc
      - description: 排序字段
        in: query
        name: orderCol
        type: string
      - description: 第几页（从0开始）
        in: query
        name: pageIndex
        required: true
        type: integer
      - description: 每页大小
        in: query
        name: pageSize
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 账户列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取所有账户
      tags:
      - Project
  /v1/admin/projects/{aid}:
    delete:
      consumes:
      - application/json
      description: 删除账户record和队列crd
      parameters:
      - in: path
        name: aid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除的队列名
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_DeleteProjectResp'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除账户
      tags:
      - Project
    put:
      consumes:
      - application/json
      description: 更新配额
      parameters:
      - in: path
        name: aid
        required: true
        type: integer
      - description: 更新quota
        in: body
        name: data
        required: true
        schema: {}
      produces:
      - application/json
      responses:
        "200":
          description: 成功更新配额
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 更新配额
      tags:
      - Project
  /v1/admin/projects/add/{aid}/{uid}:
    post:
      consumes:
      - application/json
      description: 创建一个userproject
      parameters:
      - description: uid
        in: path
        name: uid
        required: true
        type: integer
      - description: aid
        in: path
        name: aid
        required: true
        type: integer
      - description: 权限角色
        in: body
        name: req
        required: true
        schema: {}
      produces:
      - application/json
      responses:
        "200":
          description: 返回添加的用户名和队列名
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 向账户中添加用户
      tags:
      - Project
  /v1/admin/projects/update/{aid}/{uid}:
    delete:
      consumes:
      - application/json
      description: 删除对应userQueue条目
      parameters:
      - description: uid
        in: path
        name: uid
        required: true
        type: integer
      - description: aid
        in: path
        name: aid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 返回添加的用户名和队列名
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除账户用户
      tags:
      - Project
    post:
      consumes:
      - application/json
      description: 创建一个userQueue条目
      parameters:
      - description: uid
        in: path
        name: uid
        required: true
        type: integer
      - description: aid
        in: path
        name: aid
        required: true
        type: integer
      - description: 权限角色
        in: body
        name: req
        required: true
        schema: {}
      produces:
      - application/json
      responses:
        "200":
          description: 返回添加的用户名和队列名
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 更新账户用户
      tags:
      - Project
  /v1/admin/projects/userIn/{aid}:
    get:
      consumes:
      - application/json
      description: sql查询-join
      parameters:
      - description: aid
        in: path
        name: aid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: userQueue条目
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取账户下的用户
      tags:
      - Project
  /v1/admin/projects/userOutOf/{aid}:
    get:
      consumes:
      - application/json
      description: sql查询-subquery
      parameters:
      - description: aid
        in: path
        name: aid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: userQueue条目
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取账户外的用户
      tags:
      - Project
  /v1/admin/resources/{id}:
    delete:
      consumes:
      - application/json
      description: This API will delete a resource based on the specified ID.
      parameters:
      - description: Resource ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Delete a resource
      tags:
      - Resource
    put:
      consumes:
      - application/json
      description: This API will update the label or type of a resource based on the
        specified ID.
      parameters:
      - description: Resource ID
        in: path
        name: id
        required: true
        type: integer
      - description: Resource attributes to update
        in: body
        name: resource
        required: true
        schema:
          $ref: '#/definitions/internal_handler.UpdateResourceReq'
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Update a resource's attributes
      tags:
      - Resource
  /v1/admin/resources/{id}/networks/{networkId}:
    delete:
      consumes:
      - application/json
      description: This API will delete the link between a GPU resource and an RDMA
        resource based on the specified IDs.
      parameters:
      - description: GPU Resource ID
        in: path
        name: id
        required: true
        type: integer
      - description: RDMA Resource ID
        in: path
        name: networkId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Delete the link between a GPU resource and an RDMA resource
      tags:
      - Resource
  /v1/admin/resources/{id}/vgpu:
    get:
      consumes:
      - application/json
      description: This API will return all VGPU resources linked to the specified
        GPU resource.
      parameters:
      - description: GPU Resource ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get all VGPU resources linked to a GPU resource
      tags:
      - Resource
    post:
      consumes:
      - application/json
      description: This API will create a one-to-one relationship between a GPU resource
        and a VGPU resource.
      parameters:
      - description: GPU Resource ID
        in: path
        name: id
        required: true
        type: integer
      - description: VGPU resource configuration
        in: body
        name: vgpuRequest
        required: true
        schema:
          $ref: '#/definitions/internal_handler.LinkGPUToVGPUReq'
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Link a GPU resource to a VGPU resource
      tags:
      - Resource
  /v1/admin/resources/{id}/vgpu/{vgpuId}:
    delete:
      consumes:
      - application/json
      description: This API will delete the relationship between a GPU resource and
        a VGPU resource.
      parameters:
      - description: GPU Resource ID
        in: path
        name: id
        required: true
        type: integer
      - description: VGPU Link ID
        in: path
        name: vgpuId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Delete a GPU-VGPU resource relationship
      tags:
      - Resource
    put:
      consumes:
      - application/json
      description: This API will update the relationship between a GPU resource and
        a VGPU resource.
      parameters:
      - description: GPU Resource ID
        in: path
        name: id
        required: true
        type: integer
      - description: VGPU Link ID
        in: path
        name: vgpuId
        required: true
        type: integer
      - description: VGPU resource configuration to update
        in: body
        name: vgpuRequest
        required: true
        schema:
          $ref: '#/definitions/internal_handler.UpdateGPUVGPULinkReq'
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Update a GPU-VGPU resource relationship
      tags:
      - Resource
  /v1/admin/resources/link:
    post:
      consumes:
      - application/json
      description: This API will create a relationship between a GPU resource and
        an RDMA resource.
      parameters:
      - description: GPU and RDMA IDs to link
        in: body
        name: linkRequest
        required: true
        schema:
          $ref: '#/definitions/internal_handler.LinkResourceReq'
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Link a GPU resource to an RDMA resource
      tags:
      - Resource
  /v1/admin/resources/sync:
    post:
      consumes:
      - application/json
      description: This API will get the allocatable resources from the Kubernetes
        cluster
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get allocatable resources from the Kubernetes cluster and update the
        database
      tags:
      - Resource
  /v1/admin/users:
    get:
      consumes:
      - application/json
      description: 列出用户信息（包含私人配额）
      produces:
      - application/json
      responses:
        "200":
          description: 成功获取用户信息
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 列出用户信息
      tags:
      - User
  /v1/admin/users/{name}:
    delete:
      consumes:
      - application/json
      description: 删除用户
      parameters:
      - description: username
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除用户
      tags:
      - User
  /v1/admin/users/{name}/attributes:
    put:
      consumes:
      - application/json
      description: 管理员更新指定用户的属性
      parameters:
      - description: username
        in: path
        name: name
        required: true
        type: string
      - description: 用户属性
        in: body
        name: attributes
        required: true
        schema:
          $ref: '#/definitions/github_com_raids-lab_crater_dao_model.UserAttribute'
      produces:
      - application/json
      responses:
        "200":
          description: 用户属性更新成功
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 管理员更新用户属性
      tags:
      - User
  /v1/admin/users/{name}/role:
    put:
      consumes:
      - application/json
      description: 更新角色
      parameters:
      - in: path
        name: name
        required: true
        type: string
      - description: role
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler.UpdateRoleReq'
      produces:
      - application/json
      responses:
        "200":
          description: 更新角色成功
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 更新角色
      tags:
      - User
  /v1/admin/users/baseinfo:
    get:
      consumes:
      - application/json
      description: 列出用户信息，姓名，昵称，用户空间
      produces:
      - application/json
      responses:
        "200":
          description: 成功获取用户信息
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 列出用户基本信息
      tags:
      - User
  /v1/admin/vcjobs/{name}:
    delete:
      consumes:
      - application/json
      description: 管理员删除用户作业
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Admin delete the job
      tags:
      - VolcanoJob
  /v1/aijobs:
    get:
      consumes:
      - application/json
      description: ListUserJob AI jobs by client-go
      produces:
      - application/json
      responses:
        "200":
          description: AI Job ListUserJob
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: ListUserJob AI jobs
      tags:
      - AIJob
  /v1/aijobs/{id}:
    delete:
      consumes:
      - application/json
      description: Delete an AI job by client-go
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Delete AI Job Response
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Delete an AI job
      tags:
      - AIJob
  /v1/aijobs/{id}/detail:
    get:
      consumes:
      - application/json
      description: GetDetail AI job details by client-go
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: AI Job Details
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: GetDetail AI job details
      tags:
      - AIJob
  /v1/aijobs/{id}/event:
    get:
      consumes:
      - application/json
      description: 获取AI任务的事件
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 事件列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取AI任务的事件
      tags:
      - AIJob
  /v1/aijobs/{id}/yaml:
    get:
      consumes:
      - application/json
      description: 调用k8s get crd
      parameters:
      - description: vcjob-name
        in: query
        name: jobname
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务yaml
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取vcjob Yaml详情
      tags:
      - vcjob-jupyter
  /v1/aijobs/quota:
    get:
      consumes:
      - application/json
      description: Get the quota of the queue by client-go
      produces:
      - application/json
      responses:
        "200":
          description: Quota Information
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get the quota of the queue
      tags:
      - AIJob
  /v1/aijobs/training:
    post:
      consumes:
      - application/json
      description: CreateCustom a new AI job by client-go
      parameters:
      - description: CreateCustom AI Job Request
        in: body
        name: job
        required: true
        schema: {}
      produces:
      - application/json
      responses:
        "200":
          description: CreateCustom AI Job Response
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: CreateCustom a new AI job
      tags:
      - AIJob
  /v1/amdin/images/deleteimage:
    post:
      consumes:
      - application/json
      description: 管理员模式根据ID列表的ID更新Image的状态为Deleted，起到删除的功能
      parameters:
      - description: 删除镜像的ID
        in: body
        name: ID
        required: true
        schema:
          items:
            type: integer
          type: array
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 管理员模式根据ID列表删除Image
      tags:
      - ImagePack
  /v1/approvalorder:
    get:
      consumes:
      - application/json
      description: 获取当前用户创建的所有审批工单
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回工单列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取我的审批工单
      tags:
      - approvalorder
    post:
      consumes:
      - application/json
      description: 创建新的审批工单
      parameters:
      - description: 审批工单信息
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_handler.ApprovalOrderreq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 创建审批工单
      tags:
      - approvalorder
  /v1/approvalorder/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的审批工单
      parameters:
      - description: 工单ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除审批工单
      tags:
      - approvalorder
    put:
      consumes:
      - application/json
      description: 更新现有的审批工单
      parameters:
      - description: 审批工单信息
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_handler.UpdateApprovalOrder'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 更新审批工单
      tags:
      - approvalorder
  /v1/auth/switch:
    post:
      consumes:
      - application/json
      description: 读取body中的项目ID，生成新的 JWT Token
      parameters:
      - description: 项目ID
        in: body
        name: project_id
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwitchQueueReq'
      produces:
      - application/json
      responses:
        "200":
          description: 用户上下文
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_LoginResp'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 类似登录，切换项目并返回新的 JWT Token
      tags:
      - Auth
  /v1/context/attributes:
    put:
      consumes:
      - application/json
      description: Update the attributes of the current user
      parameters:
      - description: User attributes
        in: body
        name: attributes
        required: true
        schema:
          $ref: '#/definitions/github_com_raids-lab_crater_dao_model.UserAttribute'
      produces:
      - application/json
      responses:
        "200":
          description: User attributes updated
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Update user attributes
      tags:
      - Context
  /v1/context/email/code:
    post:
      consumes:
      - application/json
      description: generate random code and save, send it to the user's email
      produces:
      - application/json
      responses:
        "200":
          description: Successfully send email verification code to user
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Send User Verification Code for email
      tags:
      - Context
  /v1/context/email/update:
    post:
      consumes:
      - application/json
      description: judge code and update email for user
      produces:
      - application/json
      responses:
        "200":
          description: User email updated successfully
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Update after judging Verification Code for email
      tags:
      - Context
  /v1/context/queue:
    get:
      consumes:
      - application/json
      description: query the queue information by client-go
      produces:
      - application/json
      responses:
        "200":
          description: Volcano Queue Quota
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get the queue information
      tags:
      - Context
  /v1/dataset/{datasetId}/queuesIn:
    get:
      consumes:
      - application/json
      description: 数据集的共享队列
      parameters:
      - in: path
        name: datasetId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 数据集的共享队列
      tags:
      - Dataset
  /v1/dataset/{datasetId}/queuesNotIn:
    get:
      consumes:
      - application/json
      description: 没有该数据集权限的队列列表
      parameters:
      - in: path
        name: datasetId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 没有该数据集权限的队列列表
      tags:
      - Dataset
  /v1/dataset/{datasetId}/usersIn:
    get:
      consumes:
      - application/json
      description: 获取该数据集共享用户
      parameters:
      - in: path
        name: datasetId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取该数据集共享用户
      tags:
      - Dataset
  /v1/dataset/{datasetId}/usersNotIn:
    get:
      consumes:
      - application/json
      description: 没有该数据集权限的用户列表
      parameters:
      - in: path
        name: datasetId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 没有该数据集权限的用户列表
      tags:
      - Dataset
  /v1/dataset/cancelshare/queue:
    post:
      consumes:
      - application/json
      description: 普通用户取消数据共享队列
      parameters:
      - description: 共享数据集队列
        in: body
        name: queueReq
        required: true
        schema:
          $ref: '#/definitions/internal_handler.cancelSharedQueueReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 普通用户取消数据共享队列
      tags:
      - Dataset
  /v1/dataset/cancelshare/user:
    post:
      consumes:
      - application/json
      description: 普通用户取消数据集共享
      parameters:
      - description: 共享数据集用户
        in: body
        name: Req
        required: true
        schema:
          $ref: '#/definitions/internal_handler.cancelsharedUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 普通用户取消数据集共享用户
      tags:
      - Dataset
  /v1/dataset/create:
    post:
      consumes:
      - application/json
      description: 输入数据集名字和URL，创建数据集
      parameters:
      - description: 参数描述
        in: body
        name: datasetReq
        required: true
        schema:
          $ref: '#/definitions/internal_handler.DatasetReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 创建数据集
      tags:
      - Dataset
  /v1/dataset/delete/{id}:
    delete:
      consumes:
      - application/json
      description: 删除数据集
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除数据集
      tags:
      - Dataset
  /v1/dataset/detail/{datasetId}:
    get:
      consumes:
      - application/json
      description: 通过数据集id获取数据集信息
      parameters:
      - in: path
        name: datasetId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 通过数据集id获取数据集信息
      tags:
      - Dataset
  /v1/dataset/mydataset:
    get:
      consumes:
      - application/json
      description: 获取数据集
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取数据集
      tags:
      - Dataset
  /v1/dataset/share/queue:
    post:
      consumes:
      - application/json
      description: 跟队列共享数据集
      parameters:
      - description: 共享数据集队列
        in: body
        name: queueReq
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SharedQueueReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 跟队列共享数据集
      tags:
      - Dataset
  /v1/dataset/share/user:
    post:
      consumes:
      - application/json
      parameters:
      - description: 共享数据集用户
        in: body
        name: userReq
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SharedUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 跟用户共享数据集
      tags:
      - Dataset
  /v1/dataset/update:
    post:
      consumes:
      - application/json
      description: 更新数据集
      parameters:
      - description: 参数描述
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/internal_handler.UpdateDatasetreq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 更新数据集
      tags:
      - Dataset
  /v1/images/account:
    get:
      consumes:
      - application/json
      description: 获取未被分享该镜像的账户
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取未被分享该镜像的账户
      tags:
      - ImagePack
  /v1/images/available:
    get:
      consumes:
      - application/json
      description: 用userID & jobType 来过滤已完成的镜像
      parameters:
      - enum:
        - all
        - jupyter
        - webide
        - pytorch
        - tensorflow
        - kuberay
        - deepspeed
        - openmpi
        - custom
        in: query
        name: type
        required: true
        type: string
        x-enum-varnames:
        - JobTypeAll
        - JobTypeJupyter
        - JobTypeWebIDE
        - JobTypePytorch
        - JobTypeTensorflow
        - JobTypeKubeRay
        - JobTypeDeepSpeed
        - JobTypeOpenMPI
        - JobTypeCustom
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 用户在运行作业时选择镜像需要调用此接口，来获取可以用的镜像
      tags:
      - ImagePack
  /v1/images/change:
    post:
      consumes:
      - application/json
      description: 传入uint参数
      parameters:
      - description: 更新镜像的ID
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/internal_handler_image.ChangeImagePublicStatusRequest'
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 管理员模式下更新镜像的公共或私有状态
      tags:
      - ImagePack
  /v1/images/credential:
    post:
      consumes:
      - application/json
      description: 获取参数，生成变量，调用接口
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 创建用户的harbor项目，并返回用户的harbor项目的凭证
      tags:
      - ImagePack
  /v1/images/cudabaseimage:
    get:
      consumes:
      - application/json
      description: 获取所有可用的Cuda基础镜像列表
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取所有Cuda基础镜像
      tags:
      - ImagePack
    post:
      consumes:
      - application/json
      description: 添加新的CUDA基础镜像到系统中
      parameters:
      - description: CUDA基础镜像信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler_image.CudaBaseImageCreateRequest'
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 添加CUDA基础镜像
      tags:
      - ImagePack
  /v1/images/cudabaseimage/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除指定的CUDA基础镜像
      parameters:
      - description: CUDA基础镜像ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 删除CUDA基础镜像
      tags:
      - ImagePack
  /v1/images/deleteimage:
    post:
      consumes:
      - application/json
      description: 用户模式根据ID列表的ID更新Image的状态为Deleted，起到删除的功能
      parameters:
      - description: 删除镜像的ID
        in: body
        name: ID
        required: true
        schema:
          items:
            type: integer
          type: array
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 用户模式根据ID列表删除Image
      tags:
      - ImagePack
  /v1/images/deletekaniko:
    post:
      consumes:
      - application/json
      description: 遍历列表，根据ID更新Kaniko的状态为Deleted，起到删除的功能
      parameters:
      - description: 删除kaniko的IDList
        in: body
        name: IDList
        required: true
        schema:
          items:
            type: integer
          type: array
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 根据IDList删除Kaniko entity
      tags:
      - ImagePack
  /v1/images/description:
    post:
      consumes:
      - application/json
      description: 更新描述
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 更新镜像的描述
      tags:
      - ImagePack
  /v1/images/dockerfile:
    post:
      consumes:
      - application/json
      description: 获取参数，提取Dockerfile中的基础镜像，调用接口
      parameters:
      - description: 创建ImagePack CRD
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler_image.CreateByDockerfileRequest'
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 接受用户传入的Dockerfile和描述，创建镜像
      tags:
      - ImagePack
  /v1/images/envd:
    post:
      consumes:
      - application/json
      description: 获取参数，提取Dockerfile中的基础镜像，调用接口
      parameters:
      - description: 创建ImagePack CRD
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler_image.CreateByEnvdRequest'
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 接受用户传入的Envd内容和描述，创建镜像
      tags:
      - ImagePack
  /v1/images/get:
    get:
      consumes:
      - application/json
      description: 获取imagepackname，搜索到imagepack的模板信息
      parameters:
      - description: 获取ImagePack的name
        in: query
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取imagepack的模板信息
      tags:
      - ImagePack
  /v1/images/getbyname:
    get:
      consumes:
      - application/json
      description: 获取imagepackname，搜索到imagepack
      parameters:
      - description: 获取ImagePack的name
        in: query
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取imagepack的详细信息
      tags:
      - ImagePack
  /v1/images/grant:
    get:
      consumes:
      - application/json
      description: 获取镜像分享到的用户或账户
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取镜像分享到的用户或账户
      tags:
      - ImagePack
  /v1/images/harbor:
    get:
      consumes:
      - application/json
      description: 通过后端获取harbor的部署地址
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取harbor的部署地址
      tags:
      - ImagePack
  /v1/images/image:
    get:
      consumes:
      - application/json
      description: 返回该用户所有的镜像数据
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 用户获取所有镜像数据
      tags:
      - ImagePack
    post:
      consumes:
      - application/json
      description: 获取上传镜像的参数，生成变量，调用接口
      parameters:
      - description: 创建Image entity
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler_image.UploadImageRequest'
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 用户上传镜像链接
      tags:
      - ImagePack
  /v1/images/image/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID更新Image的状态为Deleted，起到删除的功能
      parameters:
      - description: 删除镜像的ID
        in: body
        name: ID
        required: true
        schema:
          type: integer
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 根据ID删除Image
      tags:
      - ImagePack
  /v1/images/kaniko:
    get:
      consumes:
      - application/json
      description: 返回该用户所有的镜像构建数据
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 用户获取镜像构建信息
      tags:
      - ImagePack
    post:
      consumes:
      - application/json
      description: 获取参数，生成变量，调用接口
      parameters:
      - description: 创建ImagePack CRD & Kaniko entity
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler_image.CreateKanikoRequest'
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 创建ImagePack CRD和数据库Kaniko entity
      tags:
      - ImagePack
  /v1/images/kaniko/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID更新Kaniko的状态为Deleted，起到删除的功能
      parameters:
      - description: 删除镜像的ID
        in: body
        name: ID
        required: true
        schema:
          type: integer
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 根据ID删除Kaniko entity
      tags:
      - ImagePack
  /v1/images/podname:
    get:
      consumes:
      - application/json
      description: 根据ID获取镜像构建Pod名称和命名空间
      parameters:
      - description: 镜像构建任务ID
        in: query
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取镜像构建Pod名称
      tags:
      - ImagePack
  /v1/images/quota:
    get:
      consumes:
      - application/json
      description: 获取用户的project的详细信息
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取用户project的信息
      tags:
      - ImagePack
    post:
      consumes:
      - application/json
      description: 传入int64参数，查找用户的project，并更新镜像存储的配额
      parameters:
      - description: 更新镜像的ID和存储大小
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/internal_handler_image.UpdateProjectQuotaRequest'
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 更新project的配额
      tags:
      - ImagePack
  /v1/images/share:
    delete:
      consumes:
      - application/json
      description: 普通用户取消分享镜像到其他账户
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 取消分享镜像到账户
      tags:
      - ImagePack
    post:
      consumes:
      - application/json
      description: 普通用户分享镜像到其他账户或用户
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 分享镜像到账户或用户
      tags:
      - ImagePack
  /v1/images/tags:
    post:
      consumes:
      - application/json
      description: 更新标签
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 更新镜像的标签
      tags:
      - ImagePack
  /v1/images/type:
    post:
      consumes:
      - application/json
      description: 更新任务类型
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 更新镜像的任务类型
      tags:
      - ImagePack
  /v1/images/user:
    get:
      consumes:
      - application/json
      description: 获取未被分享该镜像的用户
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 获取未被分享该镜像的用户（支持名称模糊搜索）
      tags:
      - ImagePack
  /v1/images/valid:
    post:
      consumes:
      - application/json
      description: 通过获取的镜像链接列表，遍历其中的链接，检查是否有效
      produces:
      - application/json
      responses: {}
      security:
      - Bearer: []
      summary: 检查镜像链接是否有效
      tags:
      - ImagePack
  /v1/jobtemplate/{id}:
    get:
      consumes:
      - application/json
      description: 获取作业模板
      parameters:
      - description: 作业模板ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取作业模板
      tags:
      - jobtemplate
  /v1/jobtemplate/create:
    post:
      consumes:
      - application/json
      description: 创建作业模板
      parameters:
      - description: 作业模板
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/internal_handler.JobTemplateReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 创建作业模板
      tags:
      - jobtemplate
  /v1/jobtemplate/delete/{id}:
    delete:
      consumes:
      - application/json
      description: 删除作业模板
      parameters:
      - description: 作业模板ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除作业模板
      tags:
      - jobtemplate
  /v1/jobtemplate/list:
    get:
      consumes:
      - application/json
      description: 展示所有作业模板
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 展示所有作业模板
      tags:
      - jobtemplate
  /v1/jobtemplate/update:
    put:
      consumes:
      - application/json
      description: 更新作业模板
      parameters:
      - description: 作业模板
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/internal_handler.UpdateJobTemplateReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 更新作业模板
      tags:
      - jobtemplate
  /v1/namespaces/{namespace}/pods/{name}/containers:
    get:
      consumes:
      - application/json
      description: 获取Pod的容器列表
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: Pod名称
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod容器列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取Pod的容器列表
      tags:
      - Pod
  /v1/namespaces/{namespace}/pods/{name}/containers/{container}/log:
    get:
      consumes:
      - application/json
      description: 获取Pod容器日志
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: Pod名称
        in: path
        name: name
        required: true
        type: string
      - description: 容器名称
        in: path
        name: container
        required: true
        type: string
      - description: 页码
        in: query
        name: page
        required: true
        type: integer
      - description: 每页数量
        in: query
        name: size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Pod容器日志
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取Pod容器日志
      tags:
      - Pod
  /v1/namespaces/{namespace}/pods/{name}/containers/{container}/resources:
    put:
      consumes:
      - application/json
      description: edit pod's resources(cpu, mem)
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      summary: edit pod's resources(cpu, mem)
      tags:
      - Operations
  /v1/namespaces/{namespace}/pods/{name}/events:
    get:
      consumes:
      - application/json
      description: 获取Pod的事件
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: 任务名称
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod事件列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "404":
          description: 任务未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取Pod的事件
      tags:
      - Pod
  /v1/namespaces/{namespace}/pods/{name}/ingresses:
    delete:
      consumes:
      - application/json
      description: 根据规则名称删除指定的Ingress规则，同时删除关联的Service和Ingress
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: Pod名称
        in: path
        name: name
        required: true
        type: string
      - description: 要删除的Ingress规则
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_handler_tool.PodIngressMgr'
      produces:
      - application/json
      responses:
        "200":
          description: Ingress规则删除成功
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误或Ingress规则未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "404":
          description: Pod未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除Pod的Ingress规则
      tags:
      - Pod
    get:
      consumes:
      - application/json
      description: 通过Pod注解获取相关的Ingress规则
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: Pod名称
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod Ingress规则列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_tool_PodIngressResp'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "404":
          description: Pod未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取Pod的Ingress规则
      tags:
      - Pod
    post:
      consumes:
      - application/json
      description: 为指定Pod创建新的Ingress规则，规则名称和端口号必须唯一
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: Pod名称
        in: path
        name: name
        required: true
        type: string
      - description: Ingress规则内容
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_handler_tool.PodIngressMgr'
      produces:
      - application/json
      responses:
        "200":
          description: 成功创建的Ingress规则
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_tool_PodIngress'
        "400":
          description: 请求参数错误或规则冲突
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "404":
          description: Pod未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 创建新的Pod Ingress规则
      tags:
      - Pod
  /v1/namespaces/{namespace}/pods/{name}/nodeports:
    delete:
      consumes:
      - application/json
      description: 根据规则名称删除指定的NodePort规则，同时删除关联的Service
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: Pod名称
        in: path
        name: name
        required: true
        type: string
      - description: 要删除的NodePort规则
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_handler_tool.PodNodeportMgr'
      produces:
      - application/json
      responses:
        "200":
          description: NodePort规则删除成功
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误或NodePort规则未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "404":
          description: Pod未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除Pod的NodePort规则
      tags:
      - Pod
    get:
      consumes:
      - application/json
      description: 通过Pod的labels选择相关的Service并获取NodePort规则
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: Pod名称
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod NodePort规则列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_tool_PodNodeportResp'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "404":
          description: Pod未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取Pod的NodePort规则
      tags:
      - Pod
    post:
      consumes:
      - application/json
      description: 为指定Pod创建新的NodePort规则，规则名称和端口号必须唯一
      parameters:
      - description: 命名空间
        in: path
        name: namespace
        required: true
        type: string
      - description: Pod名称
        in: path
        name: name
        required: true
        type: string
      - description: NodePort规则内容
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_handler_tool.PodNodeportMgr'
      produces:
      - application/json
      responses:
        "200":
          description: 成功创建的NodePort规则
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_tool_PodNodeport'
        "400":
          description: 请求参数错误或规则冲突
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "404":
          description: Pod未找到
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 创建新的Pod NodePort规则
      tags:
      - Pod
  /v1/nodes:
    get:
      consumes:
      - application/json
      description: kubectl + prometheus获取节点基本信息
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述，注意这里返回Json字符串，swagger无法准确解析
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取节点基本信息
      tags:
      - Node
  /v1/nodes/{name}:
    get:
      consumes:
      - application/json
      description: kubectl + prometheus获取节点详细信息
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-github_com_raids-lab_crater_pkg_crclient_ClusterNodeDetail'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取节点详细信息
      tags:
      - Node
    put:
      consumes:
      - application/json
      description: 介绍函数的主要实现逻辑
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 更新节点调度状态
      tags:
      - 接口对应的标签
  /v1/nodes/{name}/annotation:
    delete:
      consumes:
      - application/json
      description: 删除指定节点的注解
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      - description: 注解信息（只需要key）
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler.NodeAnnotation'
      produces:
      - application/json
      responses:
        "200":
          description: 成功删除注解
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除节点注解
      tags:
      - Node
    post:
      consumes:
      - application/json
      description: 为指定节点添加注解
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      - description: 注解信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler.NodeAnnotation'
      produces:
      - application/json
      responses:
        "200":
          description: 成功添加注解
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 添加节点注解
      tags:
      - Node
  /v1/nodes/{name}/gpu/:
    get:
      consumes:
      - application/json
      description: 查询prometheus获取GPU各节点的利用率
      parameters:
      - description: 节点名称
        in: query
        name: name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-github_com_raids-lab_crater_pkg_crclient_GPUInfo'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取GPU各节点的利用率
      tags:
      - Node
  /v1/nodes/{name}/label:
    delete:
      consumes:
      - application/json
      description: 删除指定节点的标签
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      - description: 标签信息（只需要key）
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler.NodeLabel'
      produces:
      - application/json
      responses:
        "200":
          description: 成功删除标签
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除节点标签
      tags:
      - Node
    post:
      consumes:
      - application/json
      description: 为指定节点添加标签
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      - description: 标签信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler.NodeLabel'
      produces:
      - application/json
      responses:
        "200":
          description: 成功添加标签
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 添加节点标签
      tags:
      - Node
  /v1/nodes/{name}/mark:
    get:
      consumes:
      - application/json
      description: 获取指定节点的Labels、Annotations和Taints信息
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回节点标记信息
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_NodeMark'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取节点标记信息
      tags:
      - Node
  /v1/nodes/{name}/pod/:
    get:
      consumes:
      - application/json
      description: kubectl + prometheus获取节点Pod信息
      parameters:
      - description: 节点名称
        in: query
        name: name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回值描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取节点Pod信息
      tags:
      - Node
  /v1/nodes/{name}/taint:
    delete:
      consumes:
      - application/json
      description: 删除指定节点的污点
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      - description: 污点信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler.NodeTaint'
      produces:
      - application/json
      responses:
        "200":
          description: 成功删除污点
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 删除节点污点
      tags:
      - Node
    post:
      consumes:
      - application/json
      description: 为指定节点添加污点
      parameters:
      - description: 节点名称
        in: path
        name: name
        required: true
        type: string
      - description: 污点信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/internal_handler.NodeTaint'
      produces:
      - application/json
      responses:
        "200":
          description: 成功添加污点
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-string'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 添加节点污点
      tags:
      - Node
  /v1/operations/add/locktime:
    put:
      consumes:
      - application/json
      description: set LockTime of the job
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      summary: set LockTime of the job
      tags:
      - Operations
  /v1/operations/auto:
    delete:
      consumes:
      - application/json
      description: check job list and delete not using gpu job
      parameters:
      - in: query
        name: timeRange
        required: true
        type: integer
      - in: query
        name: util
        type: integer
      - in: query
        name: waitTime
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Auto delete not using gpu job list
      tags:
      - Operations
  /v1/operations/clear/locktime:
    put:
      consumes:
      - application/json
      description: clear LockTime of the job
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      summary: clear LockTime of the job
      tags:
      - Operations
  /v1/operations/cronjob:
    get:
      consumes:
      - application/json
      description: Get all cronjob configs
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get all cronjob configs
      tags:
      - Operations
    put:
      consumes:
      - application/json
      description: Update one cronjob config
      parameters:
      - description: CronjobConfigs
        in: body
        name: use
        required: true
        schema:
          $ref: '#/definitions/internal_handler_operations.CronjobConfigs'
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Update cronjob config
      tags:
      - Operations
  /v1/operations/keep/{name}:
    put:
      consumes:
      - application/json
      description: set KeepWhenLowResourceUsage of the job to the opposite value
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      summary: set KeepWhenLowResourceUsage of the job to the opposite value
      tags:
      - Operations
  /v1/operations/waiting/jupyter:
    delete:
      consumes:
      - application/json
      description: check pending jupyter jobs, delete if not scheduled
      parameters:
      - in: query
        name: waitMinitues
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Delete unscheduled jupyter jobs
      tags:
      - Operations
  /v1/operations/whitelist:
    get:
      consumes:
      - application/json
      description: get job white list
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      summary: Get job white list
      tags:
      - Operations
  /v1/projects:
    post:
      consumes:
      - application/json
      description: 从请求中获取账户名称、描述和配额，以当前用户为管理员，创建一个团队账户
      parameters:
      - description: 账户信息
        in: body
        name: data
        required: true
        schema: {}
      produces:
      - application/json
      responses:
        "200":
          description: 成功创建账户，返回账户ID
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_ProjectCreateResp'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 账户创建失败，返回错误信息
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 创建团队账户
      tags:
      - Project
  /v1/resources:
    get:
      consumes:
      - application/json
      description: If the vendorDomain parameter is provided, the API will return
        a list of resources that match the specified vendor domain.
      parameters:
      - description: "Vendor domain of the resource (For example: 'nvidia.com'\t)"
        in: query
        name: vendorDomain
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get a list of resources based on the specified parameters
      tags:
      - Resource
  /v1/resources/gpu/{gpuId}/networks:
    get:
      consumes:
      - application/json
      description: This API will return all RDMA resources linked to the specified
        GPU resource.
      parameters:
      - description: GPU Resource ID
        in: path
        name: gpuId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get all RDMA resources linked to a GPU resource
      tags:
      - Resource
  /v1/spjobs/{name}/events:
    get:
      consumes:
      - application/json
      description: 获取稀疏推荐作业关联的事件信息
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 事件列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取稀疏推荐作业的事件
      tags:
      - SpJob
  /v1/token/verify:
    get:
      consumes:
      - application/json
      description: 读取header的auth进行鉴权
      produces:
      - application/json
      responses:
        "200":
          description: Token 鉴权
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_TokenReq'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 通过token鉴权
      tags:
      - Token
  /v1/users/{name}:
    get:
      consumes:
      - application/json
      description: 获取指定用户的详细信息
      parameters:
      - description: username
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功获取用户信息
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_UserDetailResp'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取单个用户信息
      tags:
      - User
  /v1/users/email/verified:
    get:
      consumes:
      - application/json
      description: 检查邮箱是否已验证
      produces:
      - application/json
      responses:
        "200":
          description: 成功获取用户信息
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: 其他错误
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 检查邮箱是否已验证
      tags:
      - User
  /v1/vcjobs:
    get:
      consumes:
      - application/json
      description: Get the jobs of the user by client-go
      produces:
      - application/json
      responses:
        "200":
          description: Volcano Job List
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get the jobs of the user
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}:
    delete:
      consumes:
      - application/json
      description: Delete the job by client-go
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Delete the job
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}/alert:
    put:
      consumes:
      - application/json
      description: set AlertEnabled of the job to the opposite value
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      summary: set AlertEnabled of the job to the opposite value
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}/detail:
    get:
      consumes:
      - application/json
      description: 调用k8s get crd
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务描述
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取jupyter详情
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}/event:
    get:
      consumes:
      - application/json
      description: 获取任务的事件
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取任务的事件
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}/pods:
    get:
      consumes:
      - application/json
      description: 获取任务的Pod列表
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod列表
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取任务的Pod列表
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}/ssh:
    post:
      consumes:
      - application/json
      description: 开启 SSH
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: SSH开启成功
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 开启 SSH
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}/template:
    get:
      consumes:
      - application/json
      description: 获取任务的 template
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取任务的 template
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}/token:
    get:
      consumes:
      - application/json
      description: Get the token of the job by logs
      parameters:
      - description: Job Name
        in: path
        name: jobName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_vcjob_JobTokenResp'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get the ingress base url and jupyter token of the job
      tags:
      - VolcanoJob
  /v1/vcjobs/{name}/yaml:
    get:
      consumes:
      - application/json
      description: 调用k8s get crd
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务yaml
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: 获取vcjob Yaml详情
      tags:
      - vcjob-jupyter
  /v1/vcjobs/all:
    get:
      consumes:
      - application/json
      description: 返回指定天数内的所有作业，默认为14天
      parameters:
      - default: 14
        description: Number of days to look back, default is 14
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: admin get Volcano Job List
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: admin Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Get all of the jobs
      tags:
      - VolcanoJob
  /v1/vcjobs/jupyter:
    post:
      consumes:
      - application/json
      description: Create a Jupyter job
      parameters:
      - description: Create Jupyter Job Request
        in: body
        name: CreateJupyterReq
        required: true
        schema:
          $ref: '#/definitions/internal_handler_vcjob.CreateJupyterReq'
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Create a Jupyter job
      tags:
      - VolcanoJob
  /v1/vcjobs/jupyter/{name}/snapshot:
    post:
      consumes:
      - application/json
      description: Create nerdctl docker commit to snapshot the jupyter notebook
      parameters:
      - description: Job Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-internal_handler_vcjob_JobTokenResp'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Create a snapshot of the jupyter notebook
      tags:
      - VolcanoJob
  /v1/vcjobs/tensorflow:
    post:
      consumes:
      - application/json
      description: Create a training job
      parameters:
      - description: CreateTrainingReq
        in: body
        name: CreateTrainingReq
        required: true
        schema: {}
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Create a training job
      tags:
      - VolcanoJob
  /v1/vcjobs/training:
    post:
      consumes:
      - application/json
      description: Create a training job
      parameters:
      - description: CreateTrainingReq
        in: body
        name: CreateTrainingReq
        required: true
        schema: {}
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "400":
          description: Request parameter error
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
        "500":
          description: Other errors
          schema:
            $ref: '#/definitions/github_com_raids-lab_crater_internal_resputil.Response-any'
      security:
      - Bearer: []
      summary: Create a training job
      tags:
      - VolcanoJob
securityDefinitions:
  Bearer:
    description: 访问 /login 并获取 TOKEN 后，填入 'Bearer ${TOKEN}' 以访问受保护的接口
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
